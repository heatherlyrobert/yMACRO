#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                yMACRO.h                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include private header               yMACRO_priv.h               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (SCRIPT) verify use of simple macro script files                                                                                                                         ((17.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        ymacro__unit_quiet                                                                                                                i_equal     0                                                                                                    
     get      ... review position                  yMODE_unit                  "u_pos"          , 0                                                                                  s_equal     MODE u_pos       :   0x,   0y                                                                                

   COND       create a simple, one-line script file                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"2j··3l\"                                                                                                                                                                         > /tmp/yMACRO.script");  

   COND       check saved macros                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      check macro list                     yMACRO__unit                "list"         , '-'                                                                                  s_equal     MACRO list       :  0 ·                                                                              
     get      check saved macro                    yMACRO__unit                "saved"        , '.'                                                                                  s_equal     MACRO saved  (.) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'è'                                                                                  s_equal     MACRO saved  (è) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'é'                                                                                  s_equal     MACRO saved  (é) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ê'                                                                                  s_equal     MACRO saved  (ê) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ë'                                                                                  s_equal     MACRO saved  (ë) :  0åæ                                  -1 -1  0                                    

   COND       open the file                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     open input                           ymacro_script__open         "/tmp/yMACRO.script"                                                                                 i_equal     0                                                                                                    
     get      ... review position                  yMODE_unit                  "u_pos"          , 0                                                                                  s_equal     MODE u_pos       :   0x,   0y                                                                                
     get      ... execution status (grounded)      yMACRO__unit                "exec"         , '@'                                                                                  s_equal     MACRO exec   (-) : macro pointer grounded                                                            

   COND       read the line                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     process lines                        ymacro_script__read                                                                                                               i_equal     0                                                                                                    
     get      ... review position                  yMODE_unit                  "u_pos"          , 0                                                                                  s_equal     MODE u_pos       :   0x,   0y                                                                                
     get      ... execution status                 yMACRO__unit                "exec"         , '@'                                                                                  s_equal     MACRO exec   (.) : M 0  -1 00   7[2j··3l³]                                                           

   COND       check saved macros                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      check macro list                     yMACRO__unit                "list"         , '-'                                                                                  s_equal     MACRO list       :  1 ,.,                                                                            
     get      check saved macro                    yMACRO__unit                "saved"        , '.'                                                                                  s_equal     MACRO saved  (.) :  7å2j··3l³æ                           -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'è'                                                                                  s_equal     MACRO saved  (è) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'é'                                                                                  s_equal     MACRO saved  (é) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ê'                                                                                  s_equal     MACRO saved  (ê) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ë'                                                                                  s_equal     MACRO saved  (ë) :  0åæ                                  -1 -1  0                                    

   COND       run the macro                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     send keys                            yKEYS_string                "·"                                                                                                   i_equal     0                                                                                                    
     get      ... review position                  yMODE_unit                  "u_pos"          , 0                                                                                  s_equal     MODE u_pos       :   3x,   2y                                                                                
     get      ... execution status (grounded)      yMACRO__unit                "exec"         , '@'                                                                                  s_equal     MACRO exec   (.) : macro pointer grounded                                                            

   COND       check saved macros                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      check macro list                     yMACRO__unit                "list"         , '-'                                                                                  s_equal     MACRO list       :  0 ·                                                                              
     get      check saved macro                    yMACRO__unit                "saved"        , '.'                                                                                  s_equal     MACRO saved  (.) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'è'                                                                                  s_equal     MACRO saved  (è) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'é'                                                                                  s_equal     MACRO saved  (é) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ê'                                                                                  s_equal     MACRO saved  (ê) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ë'                                                                                  s_equal     MACRO saved  (ë) :  0åæ                                  -1 -1  0                                    

   COND       create a longer script file                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"\"                                                                                                                                                                               > /tmp/yMACRO.script");  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"## comment\"                                                                                                                                                                    >> /tmp/yMACRO.script");  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"2j··3l\"                                                                                                                                                                        >> /tmp/yMACRO.script");  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"\"                                                                                                                                                                              >> /tmp/yMACRO.script");  

   COND       open the file                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     open input                           ymacro_script__open         "/tmp/yMACRO.script"                                                                                 i_equal     0                                                                                                    
     get      ... review position                  yMODE_unit                  "u_pos"          , 0                                                                                  s_equal     MODE u_pos       :   3x,   2y                                                                                
     get      ... execution status (grounded)      yMACRO__unit                "exec"         , '@'                                                                                  s_equal     MACRO exec   (.) : macro pointer grounded                                                            

   COND       read the line                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     process lines                        ymacro_script__read                                                                                                               i_equal     0                                                                                                    
     get      ... review position                  yMODE_unit                  "u_pos"          , 0                                                                                  s_equal     MODE u_pos       :   3x,   2y                                                                                
     get      ... execution status                 yMACRO__unit                "exec"         , '@'                                                                                  s_equal     MACRO exec   (.) : M 0  -1 00   7[2j··3l³]                                                           

   COND       check saved macros                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      check macro list                     yMACRO__unit                "list"         , '-'                                                                                  s_equal     MACRO list       :  1 ,.,                                                                            
     get      check saved macro                    yMACRO__unit                "saved"        , '.'                                                                                  s_equal     MACRO saved  (.) :  7å2j··3l³æ                           -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'è'                                                                                  s_equal     MACRO saved  (è) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'é'                                                                                  s_equal     MACRO saved  (é) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ê'                                                                                  s_equal     MACRO saved  (ê) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ë'                                                                                  s_equal     MACRO saved  (ë) :  0åæ                                  -1 -1  0                                    

   COND       run the macro                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     send keys                            yKEYS_string                "·"                                                                                                   i_equal     0                                                                                                    
     get      ... review position                  yMODE_unit                  "u_pos"          , 0                                                                                  s_equal     MODE u_pos       :   6x,   4y                                                                                
     get      ... execution status (grounded)      yMACRO__unit                "exec"         , '@'                                                                                  s_equal     MACRO exec   (.) : macro pointer grounded                                                            

   COND       check saved macros                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      check macro list                     yMACRO__unit                "list"         , '-'                                                                                  s_equal     MACRO list       :  0 ·                                                                              
     get      check saved macro                    yMACRO__unit                "saved"        , '.'                                                                                  s_equal     MACRO saved  (.) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'è'                                                                                  s_equal     MACRO saved  (è) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'é'                                                                                  s_equal     MACRO saved  (é) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ê'                                                                                  s_equal     MACRO saved  (ê) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ë'                                                                                  s_equal     MACRO saved  (ë) :  0åæ                                  -1 -1  0                                    

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         ymacro__unit_end                                                                                                                  i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (SCRIPT) verify use of simple macro script files                                                                                                                         ((17.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        ymacro__unit_quiet                                                                                                                i_equal     0                                                                                                    
     get      ... review position                  yMODE_unit                  "u_pos"          , 0                                                                                  s_equal     MODE u_pos       :   0x,   0y                                                                                

   COND       create a script with functions                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"\"                                                                                                                                                                               > /tmp/yMACRO.script");  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"## comment\"                                                                                                                                                                    >> /tmp/yMACRO.script");  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"macro è=2h3k\"                                                                                                                                                                    >> /tmp/yMACRO.script");  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"## comment\"                                                                                                                                                                    >> /tmp/yMACRO.script");  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"macro ê=k2h\"                                                                                                                                                                    >> /tmp/yMACRO.script");  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"## comment\"                                                                                                                                                                    >> /tmp/yMACRO.script");  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"15j··11l··@è··@ê\"                                                                                                                                                                >> /tmp/yMACRO.script");  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"\"                                                                                                                                                                              >> /tmp/yMACRO.script");  

   COND       open the file                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     open input                           ymacro_script__open         "/tmp/yMACRO.script"                                                                                 i_equal     0                                                                                                    
     get      ... review position                  yMODE_unit                  "u_pos"          , 0                                                                                  s_equal     MODE u_pos       :   0x,   0y                                                                                
     get      ... execution status (grounded)      yMACRO__unit                "exec"         , '@'                                                                                  s_equal     MACRO exec   (-) : macro pointer grounded                                                            

   COND       read the line                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     process lines                        ymacro_script__read                                                                                                               i_equal     0                                                                                                    
     get      ... review position                  yMODE_unit                  "u_pos"          , 0                                                                                  s_equal     MODE u_pos       :   0x,   0y                                                                                
     get      ... execution status                 yMACRO__unit                "exec"         , '@'                                                                                  s_equal     MACRO exec   (.) : M 0  -1 00  17[15j··11l··@è··@ê³]                                                   

   COND       check saved macros                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      check macro list                     yMACRO__unit                "list"         , '-'                                                                                  s_equal     MACRO list       :  3 ,è,ê,.,                                                                        
     get      check saved macro                    yMACRO__unit                "saved"        , '.'                                                                                  s_equal     MACRO saved  (.) : 17å15j··11l··@è··@ê³æ                 -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'è'                                                                                  s_equal     MACRO saved  (è) :  5å2h3k³æ                             -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'é'                                                                                  s_equal     MACRO saved  (é) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ê'                                                                                  s_equal     MACRO saved  (ê) :  4åk2h³æ                              -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ë'                                                                                  s_equal     MACRO saved  (ë) :  0åæ                                  -1 -1  0                                    

   COND       run the macro                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     send keys                            yKEYS_string                "·"                                                                                                   i_equal     0                                                                                                    
     get      ... review position                  yMODE_unit                  "u_pos"          , 0                                                                                  s_equal     MODE u_pos       :   7x,  11y                                                                                
     get      ... execution status (grounded)      yMACRO__unit                "exec"         , '@'                                                                                  s_equal     MACRO exec   (.) : macro pointer grounded                                                            

   COND       check saved macros                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      check macro list                     yMACRO__unit                "list"         , '-'                                                                                  s_equal     MACRO list       :  2 ,è,ê,                                                                          
     get      check saved macro                    yMACRO__unit                "saved"        , '.'                                                                                  s_equal     MACRO saved  (.) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'è'                                                                                  s_equal     MACRO saved  (è) :  5å2h3k³æ                             -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'é'                                                                                  s_equal     MACRO saved  (é) :  0åæ                                  -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ê'                                                                                  s_equal     MACRO saved  (ê) :  4åk2h³æ                              -1 -1  0                                    
     get      check saved macro                    yMACRO__unit                "saved"        , 'ë'                                                                                  s_equal     MACRO saved  (ë) :  0åæ                                  -1 -1  0                                    

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         ymacro__unit_end                                                                                                                  i_equal     0                                                                                                    






